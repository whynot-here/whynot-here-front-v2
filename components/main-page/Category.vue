<template>
  <div id="Category">
    <section class="category">
      <div class="posting-btn">
        ğŸ“ ê¸€ì“°ê¸°
      </div>
      <div class="sub-menu-wrp">
        <div class="menu">
          <div>
            â­ï¸ My ëª¨ì„
          </div>
          <div>
            <img src="@/assets/img/category/right-arrow.png" alt="">
          </div>
        </div>
        <div class="menu">
          <div>
            ğŸ”– ë¶ë§ˆí¬
          </div>
          <div>
            <img src="@/assets/img/category/right-arrow.png" alt="">
          </div>
        </div>
      </div>
      <div
        v-for="(cat, idx) in categoryGroup"
        :key="idx"
        class="category-wrp"
      >
        <div
          :class="cat.type === selectedCategory ? 'title selected' : 'title'"
          @click="selectCategory({ type: cat.type })"
        >
          {{ cat.title }}
        </div>
        <div
          v-for="(sub, sIdx) in cat.subCategory"
          :key="sIdx"
          :class="sub.type === selectedSubCategory ? 'sub-title selected' : 'sub-title'"
          @click="selectSubCategory({ type: cat.type, subType: sub.type })"
        >
          {{ sub.title }}
        </div>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  name: 'WhynotCategory',
  components: {
  },
  props: {
    category: {
      type: String,
      default: ''
    },
    subCategory: {
      type: String,
      default: ''
    }
  },
  data () {
    return {
      selectedCategory: '',
      selectedSubCategory: '',
      categoryGroup: [
        {
          title: 'ğŸ“‚ ìŠ¤í„°ë””',
          type: 'study',
          subCategory: [
            {
              title: 'í”„ë¡œì íŠ¸',
              type: 'project'
            },
            {
              title: 'ì „ê³µê³µë¶€',
              type: 'major'
            },
            {
              title: 'ë¦¬í¬ë£¨íŒ…',
              type: 'recruit'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'study-etc'
            }
          ]
        },
        {
          title: 'ğŸ•º ì¹œëª©',
          type: 'amity',
          subCategory: [
            {
              title: 'ì‚°ì±…',
              type: 'walk'
            },
            {
              title: 'ì•¼ì‹ ëª¨ì„',
              type: 'snack'
            },
            {
              title: 'í‹°íƒ€ì„',
              type: 'tea'
            },
            {
              title: 'ì†Œê°œíŒ…',
              type: 'meeting'
            },
            {
              title: 'ì•Œì½”ì˜¬',
              type: 'alcohol'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'amity-etc'
            }
          ]
        },
        {
          title: 'ğŸšŒ êµí†µìˆ˜ë‹¨',
          type: 'transportation',
          subCategory: [
            {
              title: 'ì¹´í’€',
              type: 'carpool'
            },
            {
              title: 'KTX ë™ë°˜ì„',
              type: 'ktx'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'transportation-etc'
            }
          ]
        },
        {
          title: 'ğŸ’° ì¤‘ê³ ê±°ë˜',
          type: 'selling',
          subCategory: [
            {
              title: 'ì–‘ë„',
              type: 'assign'
            },
            {
              title: 'ì „ê³µì±…',
              type: 'majorbook'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'selling-etc'
            }
          ]
        },
        {
          title: 'âš½ï¸ ìš´ë™',
          type: 'exercise',
          subCategory: [
            {
              title: 'í’‹ì‚´',
              type: 'putsal'
            },
            {
              title: 'íƒêµ¬',
              type: 'pingpong'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'exercise-etc'
            }
          ]
        },
        {
          title: 'ğŸ§‘â€ğŸŒ¾ ì•Œë°”',
          type: 'part-time',
          subCategory: [
            {
              title: 'êµë‚´',
              type: 'oncampus'
            },
            {
              title: 'êµì™¸',
              type: 'outcampus'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'part-time-etc'
            }
          ]
        },
        {
          title: 'ğŸ® ê²Œì„',
          type: 'game',
          subCategory: [
            {
              title: 'ë³´ë“œê²Œì„',
              type: 'board'
            },
            {
              title: 'ë¡¤',
              type: 'lol'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'game-etc'
            }
          ]
        },
        {
          title: 'â›ªï¸ ì‹ ì•™',
          type: 'faith',
          subCategory: [
            {
              title: 'ê¸°ë„ëª¨ì„',
              type: 'pray'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'faith-etc'
            }
          ]
        },
        {
          title: 'ğŸ§¾ ê³µë™êµ¬ë§¤',
          type: 'buying',
          subCategory: [
            {
              title: 'ë¬¼ê±´',
              type: 'product'
            },
            {
              title: 'OTT êµ¬ë…',
              type: 'OTT'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'buying-etc'
            }
          ]
        },
      ]
    }
  },
  mounted () {
    this.selectedCategory = this.category
    this.selectedSubCategory = this.subCategory
  },
  methods: {
    selectCategory ({ type }) {
      this.selectedCategory = type
      this.selectedSubCategory = ''
      this.$router.push(`/gather/${type}`)
    },
    selectSubCategory ({ type, subType }) {
      this.selectedCategory = type
      this.selectedSubCategory = subType
      // this.$router.push({ path: `/${this.selectedCategory}`, params: { sub: `${type}` } })
      this.$router.push(`/gather/${this.selectedCategory}?sub=${this.selectedSubCategory}`)
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/assets/scss/main-page/category.scss';
</style>
