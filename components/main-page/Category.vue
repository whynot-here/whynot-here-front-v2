<template>
  <div id="Category">
    <section class="category">
      <div class="posting-btn">
        ğŸ“ ê¸€ì“°ê¸°
      </div>
      <div
        v-for="(cat, idx) in category"
        :key="idx"
        class="category-wrp"
      >
        <div
          class="title"
          @click="selectCategory({ type: cat.type })"
        >
          {{ cat.title }}
        </div>
        <div
          v-for="(sub, sIdx) in cat.subCategory"
          :key="sIdx"
          :class="selectedSubCategory === 'sideProject' ? 'sub-title selected' : 'sub-title'"
          @click="selectSubCategory({ type: cat.type, subType: sub.type })"
        >
          {{ sub.title }}
        </div>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  name: 'WhynotCategory',
  components: {
  },
  data () {
    return {
      selectedCategory: 'study',
      selectedSubCategory: '',
      category: [
        {
          title: 'ğŸ“‚ ìŠ¤í„°ë””',
          type: 'study',
          subCategory: [
            {
              title: 'í”„ë¡œì íŠ¸',
              type: 'project'
            },
            {
              title: 'ì „ê³µê³µë¶€',
              type: 'major'
            },
            {
              title: 'ë¦¬í¬ë£¨íŒ…',
              type: 'recruit'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸ•º ì¹œëª©',
          type: 'amity',
          subCategory: [
            {
              title: 'ì‚°ì±…',
              type: 'walk'
            },
            {
              title: 'ì•¼ì‹ ëª¨ì„',
              type: 'snack'
            },
            {
              title: 'í‹°íƒ€ì„',
              type: 'tea'
            },
            {
              title: 'ì†Œê°œíŒ…',
              type: 'meeting'
            },
            {
              title: 'ì•Œì½”ì˜¬',
              type: 'alcohol'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸšŒ êµí†µìˆ˜ë‹¨',
          type: 'transportation',
          subCategory: [
            {
              title: 'ì¹´í’€',
              type: 'carpool'
            },
            {
              title: 'KTX ë™ë°˜ì„',
              type: 'ktx'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸ’° ì¤‘ê³ ê±°ë˜',
          type: 'selling',
          subCategory: [
            {
              title: 'ì–‘ë„',
              type: 'assign'
            },
            {
              title: 'ì „ê³µì±…',
              type: 'majorbook'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'âš½ï¸ ìš´ë™',
          type: 'exercise',
          subCategory: [
            {
              title: 'í’‹ì‚´',
              type: 'putsal'
            },
            {
              title: 'íƒêµ¬',
              type: 'pingpong'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸ§‘â€ğŸŒ¾ ì•Œë°”',
          type: 'part-time',
          subCategory: [
            {
              title: 'êµë‚´',
              type: 'oncampus'
            },
            {
              title: 'êµì™¸',
              type: 'outcampus'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸ® ê²Œì„',
          type: 'game',
          subCategory: [
            {
              title: 'ë³´ë“œê²Œì„',
              type: 'board'
            },
            {
              title: 'ë¡¤',
              type: 'lol'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'â›ªï¸ ì‹ ì•™',
          type: 'faith',
          subCategory: [
            {
              title: 'ê¸°ë„ëª¨ì„',
              type: 'pray'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
        {
          title: 'ğŸ§¾ ê³µë™êµ¬ë§¤',
          type: 'buying',
          subCategory: [
            {
              title: 'ë¬¼ê±´',
              type: 'product'
            },
            {
              title: 'OTT êµ¬ë…',
              type: 'OTT'
            },
            {
              title: 'ê·¸ ì™¸',
              type: 'etc'
            }
          ]
        },
      ]
    }
  },
  methods: {
    selectCategory ({ type }) {
      this.selectedCategory = type
      this.selectedSubCategory = ''
      this.$router.push(`/gather/${type}`)
    },
    selectSubCategory ({ type, subType }) {
      console.log(type)
      console.log(subType)
      this.selectedCategory = type
      this.selectedSubCategory = subType
      // this.$router.push({ path: `/${this.selectedCategory}`, params: { sub: `${type}` } })
      this.$router.push(`/gather/${this.selectedCategory}?sub=${this.selectedSubCategory}`)
    }
  }
}
</script>

<style lang="scss" scoped>
@import '@/assets/scss/main-page/category.scss';
</style>
